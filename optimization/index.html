<!doctype html>
<html lang="es" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-rendering/optimization">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<link rel="search" type="application/opensearchdescription+xml" title="React" href="/react-course/opensearch.xml"><title data-rh="true">Optimizaciones | React</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://hondilla.github.io/react-course/optimization/"><meta data-rh="true" name="docusaurus_locale" content="es"><meta data-rh="true" name="docsearch:language" content="es"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Optimizaciones | React"><meta data-rh="true" name="description" content="Cuando se habla de optimizaciones, es importante entender que hace referencia al comportamiento de los componentes de la aplicación, no acerca del algoritmo de reconciliación interno del React."><meta data-rh="true" property="og:description" content="Cuando se habla de optimizaciones, es importante entender que hace referencia al comportamiento de los componentes de la aplicación, no acerca del algoritmo de reconciliación interno del React."><link data-rh="true" rel="icon" href="/react-course/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hondilla.github.io/react-course/optimization/"><link data-rh="true" rel="alternate" href="https://hondilla.github.io/react-course/optimization/" hreflang="es"><link data-rh="true" rel="alternate" href="https://hondilla.github.io/react-course/optimization/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://0HBWCCMQT7-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/react-course/assets/css/styles.73ff0019.css">
<link rel="preload" href="/react-course/assets/js/runtime~main.1b1d287c.js" as="script">
<link rel="preload" href="/react-course/assets/js/main.0b438e64.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Saltar al contenido principal</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/react-course/"><div class="navbar__logo"><img src="/react-course/img/react.svg" alt="React" class="themedImage_ToTc themedImage--light_HNdA"><img src="/react-course/img/react.svg" alt="React" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">React</b></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Buscar"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Buscar</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/hondilla/react-course" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Volver al principio" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/react-course/">Introducción</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/react-course/installation/">Instalación</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/react-course/jsx/">JavaScript XML (JSX)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/react-course/components/">Componentes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/react-course/properties/">Propiedades</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/react-course/conditionals/">Condicionales</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/react-course/lists/">Listados</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/react-course/hoc/">Componentes de Orden Superior</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/react-course/css/">CSS</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" href="/react-course/rendering/">Renderizado</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/react-course/state/">Estado</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/react-course/effect/">Ciclo de vida</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/react-course/ref/">Referencias</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/react-course/context/">Contexto</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/react-course/reducer/">Estados complejos</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/react-course/optimization/">Optimizaciones</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/react-course/portals/">Portales</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/react-course/errors/">Limites de errores</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/react-course/eslint-prettier/">ESLint / Prettier</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/react-course/testing/">Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/react-course/libraries/">Bibliotecas</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="docItemContainer_Adtb"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/react-course/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/react-course/rendering/"><span itemprop="name">Renderizado</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Optimizaciones</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">En esta página</button></div><div class="theme-doc-markdown markdown"><h1>Optimizaciones</h1><p>Cuando se habla de <strong>optimizaciones</strong>, es importante entender que hace referencia al comportamiento de los <strong>componentes</strong> de la aplicación, <strong>no</strong> acerca del <strong>algoritmo</strong> de <strong>reconciliación</strong> interno del <strong>React</strong>.</p><p>Dentro de este concepto se encuentran todas las <strong>acciones</strong> que es posible <strong>realizar</strong> para conseguir <strong>renderizados más rápidos y/o menos frecuentes</strong>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cuántos-re-renders-son-demasiados">¿Cuántos re-renders son demasiados?<a class="hash-link" href="#cuántos-re-renders-son-demasiados" title="Enlace directo al encabezado">​</a></h2><p>El número de <strong>re-rendering</strong> es una métrica de rendimiento deficiente. El largo árbol de componentes de <strong>React</strong> que solo devuelven JSX se puede volver a renderizar muchas veces sin ningún problema de rendimiento. </p><p>Por otro lado, un componente que realiza un cálculo lento en el renderizado puede crear un cuello de botella de rendimiento en el primer montaje.</p><p>Es importante solucionar las renderizaciones lentas producidas por cálculos complejos o llamadas externas antes de evitar el <strong>re-rendering</strong>.</p><div align="center"><div style="width:640px;height:100%"></div></div><br><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Docs</h5></div><div class="admonition-content"><ul><li><a href="https://alexsidorenko.com/blog/react-how-many-rerenders/" target="_blank" rel="noopener noreferrer">How many re-renders is too many?</a></li></ul></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cuándo-debo-empezar-a-optimizar">¿Cuándo debo empezar a optimizar?<a class="hash-link" href="#cuándo-debo-empezar-a-optimizar" title="Enlace directo al encabezado">​</a></h2><p>Es tentador comenzar a optimizar <strong>re-renders</strong> innecesarios al comienzo del proyecto. Puede parecer que, de no hacerlo, el proyecto se saldrá de control, y sería extremadamente difícil solucionar los problemas de rendimiento a posteriori. </p><p>En la práctica, es posible corregir los cuellos de botella de rendimiento con la misma facilidad en las etapas posteriores del desarrollo.</p><p>Por lo tanto, una buena estrategia es, no micro-optimizar los reprocesamientos prematuramente y comenzar a solucionar los problemas de rendimiento cuando sean evidentes. Herramientas como la limitación de la CPU de Chrome DevTools para ver cómo se comporta la aplicación en dispositivos de gama baja, ayuda a detectar problemas de rendimiento reales.</p><br><div align="center"><div style="width:640px;height:100%"></div></div><br><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Docs</h5></div><div class="admonition-content"><ul><li><a href="https://developer.chrome.com/docs/devtools/evaluate-performance/" target="_blank" rel="noopener noreferrer">Analyze runtime performance - Chrome Developers</a></li><li><a href="https://alexsidorenko.com/blog/react-performance-tools/" target="_blank" rel="noopener noreferrer">My React App is Slow and I Don&#x27;t Know Why</a></li><li><a href="https://alexsidorenko.com/blog/react-performance-slow-renders/" target="_blank" rel="noopener noreferrer">How to Detect Slow Renders in React?</a></li></ul></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="memo">memo<a class="hash-link" href="#memo" title="Enlace directo al encabezado">​</a></h2><p><code>memo</code> es un <strong>HOC</strong> que se utiliza para <strong>memorizar</strong> un <strong>componente</strong>. Al memorizarse, este <strong>evita</strong> <strong>renderizarse</strong> siempre que ninguna de sus <strong>propiedades cambie</strong>.</p><p>Una técnica para comprobar cuantas veces se renderiza un componente es añadiendo un efecto en cada uno de ellos que se ejecute en cada renderización.</p><p>Para acabar de entender el funcionamiento del <strong>HOC</strong> <code>memo</code> se reduce el ejemplo a una tabla en la que se introducen países mediante un input.
Todos los componentes hacen uso de un efecto que mostrará por consola cuando son renderizados.</p><p>Se añade el efecto al componente <code>&lt;TableColumnsSelector&gt;</code> y al componente <code>&lt;Header&gt;</code>.</p><div><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">8.11-rendering/src/components/Table/TableColumnsSelector.jsx</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">loading</span><span class="token spread operator" style="color:#393A34">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="font-size:.9em;font-weight:600;color:#0E75DD;text-align:center;padding-bottom:13px;text-decoration:underline"><a href="https://github.com/hondilla/react-course/blob/edge/8.11-rendering/src/components/Table/TableColumnsSelector.jsx#L3-L5" target="_blank">See full example on GitHub</a></div></div><br><div><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">8.11-rendering/src/components/Header/Header.jsx</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">loading</span><span class="token spread operator" style="color:#393A34">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="font-size:.9em;font-weight:600;color:#0E75DD;text-align:center;padding-bottom:13px;text-decoration:underline"><a href="https://github.com/hondilla/react-course/blob/edge/8.11-rendering/src/components/Header/Header.jsx#L21-L29" target="_blank">See full example on GitHub</a></div></div><br><p>Se observa mediante la consola del navegador como los componentes se renderizan cada vez que hay algún cambio que implique al componente padre <code>&lt;App&gt;</code>.
Para evitar este comportamiento, se envuelven mediante el <strong>HOC</strong> <code>memo</code>, consiguiendo que <code>&lt;TableColumnsSelector&gt;</code> y <code>&lt;Header&gt;</code> sean <strong>memorizados</strong> y solo se <strong>rerenderizarán</strong> cuando sus propiedades hayan sido <strong>actualizadas</strong> desde el componente padre <code>&lt;App&gt;</code>.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Header /</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">TableInputButton /</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">TableColumns /</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">TableHead /</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">TableBody /</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Table /</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><br><p>Al aplicar <code>memo</code> a los componentes <code>&lt;Header&gt;</code>, <code>&lt;TableColumns&gt;</code> y <code>&lt;TableInputButton&gt;</code> el primero evita volver a renderizarse, pero en el caso de <code>&lt;TableColumns&gt;</code> y <code>&lt;TableInputButton&gt;</code> estos siguen renderizándose.</p><div><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">8.11-rendering/src/components/Table/TableColumnsSelector.jsx</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">loading</span><span class="token spread operator" style="color:#393A34">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="font-size:.9em;font-weight:600;color:#0E75DD;text-align:center;padding-bottom:13px;text-decoration:underline"><a href="https://github.com/hondilla/react-course/blob/edge/8.11-rendering/src/components/Table/TableColumnsSelector.jsx#L31" target="_blank">See full example on GitHub</a></div></div><br><div><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">8.12-rendering/src/components/Header/Header.jsx</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">loading</span><span class="token spread operator" style="color:#393A34">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="font-size:.9em;font-weight:600;color:#0E75DD;text-align:center;padding-bottom:13px;text-decoration:underline"><a href="https://github.com/hondilla/react-course/blob/edge/8.12-rendering/src/components/Header/Header.jsx#L31" target="_blank">See full example on GitHub</a></div></div><br><div><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">8.12-rendering/src/components/Table/TableInputButton.jsx</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">loading</span><span class="token spread operator" style="color:#393A34">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="font-size:.9em;font-weight:600;color:#0E75DD;text-align:center;padding-bottom:13px;text-decoration:underline"><a href="https://github.com/hondilla/react-course/blob/edge/8.12-rendering/src/components/Table/TableInputButton.jsx#L24" target="_blank">See full example on GitHub</a></div></div><br><div><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">8.12-rendering/src/components/Table/TableColumns.jsx</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">loading</span><span class="token spread operator" style="color:#393A34">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="font-size:.9em;font-weight:600;color:#0E75DD;text-align:center;padding-bottom:13px;text-decoration:underline"><a href="https://github.com/hondilla/react-course/blob/edge/8.12-rendering/src/components/Table/TableColumns.jsx" target="_blank">See full example on GitHub</a></div></div><br><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">TableInputButton /</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">TableColumns /</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">TableHead /</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">TableRow /</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">TableBody /</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Table /</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Es importante entender comó funciona el renderizado de React para comprender que sucede con los componentes <code>&lt;TableColumns&gt;</code> y <code>&lt;TableInputButton&gt;</code>.
Al observar el componente <code>&lt;App&gt;</code> la constante <code>columns</code> encargada de definir las columnas que forman la tabla, se encuentra declarada dentro del componente <code>&lt;App&gt;</code>.</p><div><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">8.12-rendering/src/components/App.jsx</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">loading</span><span class="token spread operator" style="color:#393A34">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="font-size:.9em;font-weight:600;color:#0E75DD;text-align:center;padding-bottom:13px;text-decoration:underline"><a href="https://github.com/hondilla/react-course/blob/edge/8.12-rendering/src/components/App.jsx" target="_blank">See full example on GitHub</a></div></div><br><p>Esto significa que cada vez que el componente <code>&lt;App&gt;</code> se renderice, este crea una nueva constante <code>columns</code>, una nueva referencia en memoria, el HOC <code>memo</code> del componente <code>&lt;TableColumns&gt;</code> lo interpreta como un cambio de propiedad y renderiza de nuevo el componente.</p><p>Lo mismo sucede con <code>&lt;TableInputButton&gt;</code>, la función encargada de cambiar el estado se vuelve a crear en cada renderizado del componente <code>&lt;App&gt;</code>.</p><div align="center"><img loading="lazy" src="https://www.plantuml.com/plantuml/svg/bO-z2iCm38HtFuN6bk2X7ZiKIgOEzJiOHuJI-0Sv6Kp9kpUEeVKWA9tk-3WTEZkPbE0Q8xm4T633j3YVYaquzs7nC-M3hNeKgn0bAkLbFpa3eIJq0zB3Zq94OvzcHBYZ2vHB8zZQJsHoNxjFEmVeRaDLRHnkRcNJwg-q_fd-hjh-uB3YiIwudTykOgbYgVxGvXE6AORfDm00" alt="re-rendering" class="img_ev3q"></div><br><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p><em>En JavaScript, los objetos son de tipo de referencia. Dos objetos distintos, nunca son iguales, aunque tengan las mismas propiedades.</em></p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="propiedades-primitivas">Propiedades primitivas<a class="hash-link" href="#propiedades-primitivas" title="Enlace directo al encabezado">​</a></h3><div align="center"><div style="width:640px;height:100%"></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="propiedades-no-primitivas">Propiedades no primitivas<a class="hash-link" href="#propiedades-no-primitivas" title="Enlace directo al encabezado">​</a></h3><div align="center"><div style="width:640px;height:100%"></div></div><br><p>Una de las soluciones sería mover la constante <code>columns</code> fuera del componente <code>&lt;App&gt;</code>.
De esta manera el componente <code>&lt;TableColumns&gt;</code> no va a rerenderizarse.</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> columns </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Id&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Nombre&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:#d73a49">App</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><br><p>En este caso la solución es perfectamente aceptable, pero no siempre es posible mover este tipo de datos fuera del componente, para ello React dispone del <strong>hook</strong> <code>useMemo</code>.</p><br><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Docs</h5></div><div class="admonition-content"><ul><li><a href="https://es.reactjs.org/docs/react-api.html#reactmemo" target="_blank" rel="noopener noreferrer">API de Alto Nivel de React - React</a></li><li><a href="https://alexsidorenko.com/blog/react-render-props/" target="_blank" rel="noopener noreferrer">A Visual Guide to React Rendering - Props</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Working_with_Objects#comparing_objects" target="_blank" rel="noopener noreferrer">Comparing objects</a></li></ul></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="usememo">useMemo<a class="hash-link" href="#usememo" title="Enlace directo al encabezado">​</a></h2><p><code>useMemo</code> es un <strong>hook</strong> para memorizar valores, recibe dos parámetros:</p><ul><li>El primero es una función que retorna el valor a memorizar. </li><li>El segundo es un array con las dependencias a controlar. Si algúna cambia useMemo volverá a memorizar los valores. Con un array vacío solo se memoriza la primera vez que se renderice el componente.</li></ul><br><div><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">8.13-rendering/src/components/App.jsx</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">loading</span><span class="token spread operator" style="color:#393A34">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="font-size:.9em;font-weight:600;color:#0E75DD;text-align:center;padding-bottom:13px;text-decoration:underline"><a href="https://github.com/hondilla/react-course/blob/edge/8.13-rendering/src/components/App.jsx#L11" target="_blank">See full example on GitHub</a></div></div><br><p>Al tener la referencia al array memorizado, las propiedades del componente <code>&lt;TableColumns&gt;</code> no van a cambiar y junto con el <strong>HOC</strong> <code>memo</code> el componente no se va a volver a renderizar.</p><br><div align="center"><img loading="lazy" src="https://www.plantuml.com/plantuml/svg/LOmx2e0m44JxFSLWAxc0XI1M5dg79IuYcXWsM8XuTurfj9fXFi-k72EQ470IIjXjtPsFT16bp9ZwxIge61K_Yiv-8Wfi5vu4lRXDZtI5pI1LFjeCUMEWxCQi0pjvtFM3V_OL2c2Fag353G00" alt="useMemo" class="img_ev3q"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sin-dependencias">Sin dependencias<a class="hash-link" href="#sin-dependencias" title="Enlace directo al encabezado">​</a></h3><div align="center"><div style="width:640px;height:100%"></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="con-dependencias">Con dependencias<a class="hash-link" href="#con-dependencias" title="Enlace directo al encabezado">​</a></h3><div align="center"><div style="width:640px;height:100%"></div></div><br><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Docs</h5></div><div class="admonition-content"><ul><li><a href="https://es.reactjs.org/docs/hooks-reference.html#usememo" target="_blank" rel="noopener noreferrer">Referencia de la API de los Hooks - React</a></li><li><a href="https://alexsidorenko.com/blog/react-render-usememo/" target="_blank" rel="noopener noreferrer">A Visual Guide to React Rendering - useMemo</a></li></ul></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="usecallback">useCallback<a class="hash-link" href="#usecallback" title="Enlace directo al encabezado">​</a></h2><p>useCallback es un hook para memorizar funciones.
De la misma manera que <code>memo</code> se combina con <code>useMemo</code> para memorizar las referencias a propiedades, <code>useCallback</code> se encarga de recordar las referencias a funciones.</p><ul><li>El primer parámetro es la función a memorizar.</li><li>El segundo es un array con las dependencias a controlar. Si algúna cambia useCallback volverá a memorizar la función. Con un array vacío solo se memoriza la primera vez que se renderice el componente.</li></ul><p>Cada vez que el componente <code>&lt;App&gt;</code> es renderizado la función <code>setCountry</code> se crea de nuevo, creado una nueva referencia en memoria y provocando que el componente <code>&lt;TableInputButton&gt;</code> se renderice debido a que su propiedad <code>setCountry</code> ha sido actualizada.</p><div><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">8.14-rendering/src/components/App.jsx</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">loading</span><span class="token spread operator" style="color:#393A34">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="font-size:.9em;font-weight:600;color:#0E75DD;text-align:center;padding-bottom:13px;text-decoration:underline"><a href="https://github.com/hondilla/react-course/blob/edge/8.14-rendering/src/components/App.jsx#L14-L19" target="_blank">See full example on GitHub</a></div></div><br><p>Al utilizar <code>useCallback</code> para memorizar la referencia de la función en conjunto con <code>memo</code> para memorizar las propiedades del componente <code>&lt;TableInputButton&gt;</code>, este no volverá a renderizarse cuando <code>&lt;App&gt;</code> se renderice al cambiar el estado provocado por añadir un nuevo país.</p><br><div align="center"><img loading="lazy" src="https://www.plantuml.com/plantuml/svg/JSmx2e0m48JXVaynM2cI2rW8ajf3nBW4CSQmqKB4k_igj9hY7pxhJKfeOiHEA95uqVCQ5jbo-sv11z7TbQgVNmLX9HnwbY4uecZiQ1oZvMcMxMPW7_Ipi1z_vHSgPC2QM1llkmlAJW00" alt="useCallback" class="img_ev3q"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sin-dependencias-1">Sin dependencias<a class="hash-link" href="#sin-dependencias-1" title="Enlace directo al encabezado">​</a></h3><div align="center"><div style="width:640px;height:100%"></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="con-dependencias-1">Con dependencias<a class="hash-link" href="#con-dependencias-1" title="Enlace directo al encabezado">​</a></h3><div align="center"><div style="width:640px;height:100%"></div></div><br><p>El resultado final tendrá memorizado tanto la referencia a la función <code>setCountry</code> como el <code>array</code> <code>columns</code>.</p><br><div align="center"><img loading="lazy" src="https://www.plantuml.com/plantuml/svg/LOvD2eCm48NtESN3LOju0HS5STL5UuSO1odD7nDT1CdTQoArTZMFuPltZT8o17JUOnMeePnUZ0qv1ffxjzYPuqNjyogI41bjcbivQS7KCDcH-6Kd8RnKRpaH7cGSnzm8LVf_NLZJiUsOPUntOu61-ZxkyoaDRIdzAKzyYmfO0cLLTH0dpnVefTR3zbVr0G00" alt="useCallback" class="img_ev3q"></div><br><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p><em>Se deben utilizar estas optimizaciones solo cuando sea necesario. El algoritmo de reconciliación <strong>(React Fiber)</strong> es muy rápido y añadir este tipo optimizaciones donde continuamente se están comparando las diferentes propiedades, funciones y componentes puede suponer ralentizar la aplicación.</em></p></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Docs</h5></div><div class="admonition-content"><ul><li><a href="https://es.reactjs.org/docs/hooks-reference.html#usecallback" target="_blank" rel="noopener noreferrer">Referencia de la API de los Hooks - React</a></li><li><a href="https://royi-codes.vercel.app/thousand-usecallbacks/" target="_blank" rel="noopener noreferrer">Death by a thousand useCallbacks</a></li><li><a href="https://alexsidorenko.com/blog/react-render-usecallback/" target="_blank" rel="noopener noreferrer">A Visual Guide to React Rendering - useCallback</a></li></ul></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lazy--suspense">Lazy &amp; Suspense<a class="hash-link" href="#lazy--suspense" title="Enlace directo al encabezado">​</a></h2><p>A medida que la aplicación crece como consecuencia, el tamaño final del fichero .js también lo hace, esto provoca que el usuario deba esperarse a la descarga total de dicho fichero.
En ciertos casos este comportamiento puede no suponer un problema, por ejemplo, aplicaciones internas de la empresa, backoffice...
Pero en un entorno público el resultado deseado es poder ofrecer al usuario la página en la mayor brevedad posible.</p><p>React junto con la importación de módulos de JavaScript, proporciona un mecanismo para cargar componentes cuando el navegador los requiera.
Esto permite al navegador descargar solamente el código de los componentes que en ese momento está renderizando, el resto de componentes perezosos se quedarán a la espera hasta que el navegador los solicite.</p><p>El componente <code>&lt;Table&gt;</code> solo será importando si el navegador así lo requiere.</p><div><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">8.15-rendering/src/components/App.jsx</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">loading</span><span class="token spread operator" style="color:#393A34">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="font-size:.9em;font-weight:600;color:#0E75DD;text-align:center;padding-bottom:13px;text-decoration:underline"><a href="https://github.com/hondilla/react-course/blob/edge/8.15-rendering/src/components/App.jsx#L3" target="_blank">See full example on GitHub</a></div></div><br><p>Si bien es una solución para el tamaño de los ficheros JavaScript, no mostrar nada durante la carga diferida de los componentes puede suponer un problema para la experiencia de usuario.</p><p>Para ello React dispone del componente <code>&lt;Suspense&gt;</code> mediante el cual envuelve aquellos componentes que son susceptibles de cargar de forma perezosa, recibe mediante la propiedad <code>fallback</code> un elemento o componente que será renderizado mientras dure la carga del componente perezoso.</p><div><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">8.15-rendering/src/components/App.jsx</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">loading</span><span class="token spread operator" style="color:#393A34">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="font-size:.9em;font-weight:600;color:#0E75DD;text-align:center;padding-bottom:13px;text-decoration:underline"><a href="https://github.com/hondilla/react-course/blob/edge/8.15-rendering/src/components/App.jsx#L32-L39" target="_blank">See full example on GitHub</a></div></div><br><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p><em>El comando <code>npm run build</code> genera el código listo para producción, al utilizar los componentes diferidos, el fichero final será divido por cada uno de estos.</em></p></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Docs</h5></div><div class="admonition-content"><ul><li><a href="https://es.reactjs.org/docs/code-splitting.html" target="_blank" rel="noopener noreferrer">División de código - React</a></li></ul></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Navegación de páginas de documentos"><a class="pagination-nav__link pagination-nav__link--prev" href="/react-course/reducer/"><div class="pagination-nav__sublabel">Anterior</div><div class="pagination-nav__label">Estados complejos</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/react-course/portals/"><div class="pagination-nav__sublabel">Siguiente</div><div class="pagination-nav__label">Portales</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#cuántos-re-renders-son-demasiados" class="table-of-contents__link toc-highlight">¿Cuántos re-renders son demasiados?</a></li><li><a href="#cuándo-debo-empezar-a-optimizar" class="table-of-contents__link toc-highlight">¿Cuándo debo empezar a optimizar?</a></li><li><a href="#memo" class="table-of-contents__link toc-highlight">memo</a><ul><li><a href="#propiedades-primitivas" class="table-of-contents__link toc-highlight">Propiedades primitivas</a></li><li><a href="#propiedades-no-primitivas" class="table-of-contents__link toc-highlight">Propiedades no primitivas</a></li></ul></li><li><a href="#usememo" class="table-of-contents__link toc-highlight">useMemo</a><ul><li><a href="#sin-dependencias" class="table-of-contents__link toc-highlight">Sin dependencias</a></li><li><a href="#con-dependencias" class="table-of-contents__link toc-highlight">Con dependencias</a></li></ul></li><li><a href="#usecallback" class="table-of-contents__link toc-highlight">useCallback</a><ul><li><a href="#sin-dependencias-1" class="table-of-contents__link toc-highlight">Sin dependencias</a></li><li><a href="#con-dependencias-1" class="table-of-contents__link toc-highlight">Con dependencias</a></li></ul></li><li><a href="#lazy--suspense" class="table-of-contents__link toc-highlight">Lazy &amp; Suspense</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Christian Bohollo Sáez. Built with Docusaurus.</div></div></div></footer></div>
<script src="/react-course/assets/js/runtime~main.1b1d287c.js"></script>
<script src="/react-course/assets/js/main.0b438e64.js"></script>
</body>
</html>